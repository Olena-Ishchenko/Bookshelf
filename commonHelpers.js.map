{"version":3,"file":"commonHelpers.js","sources":["../src/js/cardpagination.js","../src/js/shoppinglist.js"],"sourcesContent":["import { renderShoppingList } from './shoppinglist';\n\nexport function createCartPagination(books, cartList) {\n  const totalBooks = books.length;\n  const booksPerPage = getBooksPerPage();\n  console.log(totalBooks);\n  console.log(booksPerPage);\n  renderShoppingList(books);\n  renderPaginationButtons(totalBooks, cartList);\n  console.log(getTotalPages(totalBooks, booksPerPage));\n}\n\nfunction getBooksPerPage() {\n  const windowWidth = window.innerWidth;\n  if (windowWidth < 767) {\n    return 3;\n  } else {\n    return 4;\n  }\n}\n\nfunction getTotalPages(totalBooks, booksPerPage) {\n  return Math.ceil(totalBooks / booksPerPage);\n}\n\nfunction renderPaginationButtons(totalPages, cartList) {\n  if (totalPages > 1) {\n    cartList.insertAdjacentHTML(\n      'beforeend',\n      `<button class=\"pagination-buttons-first\"><<</button>\n    <button class=\"pagination-buttons-prev\"><</button>\n    <button class=\"pagination-buttons-next\">></button>\n    <button class=\"pagination-buttons-last\">>></button>`\n    );\n\n    const prevButton = document.querySelector('.pagination-buttons-prev');\n    console.log(prevButton);\n    prevButton.insertAdjacentHTML(\n      'afterend',\n      '<ul class=\"pagination-buttons-numbers\"></ul>'\n    );\n\n    const numbersButtonsList = document.querySelector(\n      '.pagination-buttons-numbers'\n    );\n\n    console.log(numbersButtonsList);\n    for (let i = 0; i < totalPages; i++) {\n      console.log(`page ${i + 1}`);\n      const pageNumber = i + 1;\n      numbersButtonsList.insertAdjacentHTML(\n        'beforeend',\n        `<li><button>${pageNumber}</button></li>`\n      );\n    }\n  }\n}\n","import { renderTitle } from '../js/Services/helpers';\nimport localStorageBooks from '../js/localstorage';\nimport { createCartPagination } from './cardpagination';\n\nconst shoppingList = document.querySelector('.cart-list');\nconst cartEmptyMsg = document.querySelector('.cart-empty');\nconst paginationButtons = document.querySelector('.pagination-list');\n\nrenderTitle('.cart', 'Shopping List');\n\nexport function renderShoppingList(books) {\n  // console.log(books);\n  shoppingList.innerHTML = '';\n  const hmtlBookList = books\n    .map(book => {\n      return `<li class=\"cart-item\">\n      <img\n        class=\"cart-item-img\"\n        src=\"${book.book_image}\"\n        alt=\"book image\"\n        width=\"100\"\n        height=\"142\"\n      />\n      <div class=\"cart-item-content\">\n        <div class=\"cart-item-content-top\">\n          <div class=\"cart-item-content-top-left\">\n            <h3 class=\"cart-item-title\">${book.title}</h3>\n            <p class=\"cart-item-category\">${book.list_name}</p>\n          </div>\n          <button data-id=\"${book._id}\" class=\"cart-item-del-button\">\n            <svg class=\"cart-item-del-button-icon\" width=\"12\" height=\"12\">\n              <use href=\"../img/symbol-defs.svg#icon-delete-shoppinglist-tab\" />\n            </svg>\n          </button>\n        </div>\n        <div class=\"cart-item-content-middle\">\n          <p class=\"cart-item-content-desc\">\n            ${book.description}\n          </p>\n          <div class=\"cart-item-content-bottom\">\n            <p class=\"cart-item-author\">${book.author}</p>\n            <div class=\"cart-items-links\">\n              <a\n                class=\"cart-items-link\"\n                target=\"_blank\"\n                href=\"${book.amazon_buy_link}\"\n              >\n                <svg class=\"cart-item-amazon\" width=\"32\" height=\"11\">\n                  <use href=\"../img/symbol-defs.svg#icon-amazon\" />\n                </svg>\n              </a>\n              <a\n                class=\"cart-items-link\"\n                target=\"_blank\"\n                href=\"${book.apple_buy_link}\"\n              >\n                <svg class=\"cart-items-apple\" width=\"16\" height=\"16\">\n                  <use href=\"../img/symbol-defs.svg#icon-applebook\" />\n                </svg>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </li>`;\n    })\n    .join('');\n  shoppingList.insertAdjacentHTML('beforeend', hmtlBookList);\n}\n\nfunction renderShoppingListPage() {\n  const books = localStorageBooks.getAllBooks();\n  if (books.length === 0) {\n    cartEmptyMsg.classList.remove('is-hidden');\n  } else {\n    // renderShoppingList(books);\n    createCartPagination(books, paginationButtons);\n    shoppingList.addEventListener('click', remove);\n    function remove(e) {\n      const bookId = e.target.closest('.cart-item-del-button').dataset.id;\n      localStorageBooks.removeBookFromFavorites(bookId);\n      shoppingList.removeEventListener('click', remove);\n      renderShoppingListPage();\n    }\n  }\n}\n\n// const book = {\n//   _id: '642fd89ac8cf5ee957f12218',\n//   title: 'CRYING IN H MART',\n//   author: 'Michelle Zauner',\n//   list_name: 'Paperback Nonfiction',\n//   book_image:\n//     'https://storage.googleapis.com/du-prd/books/images/9780525657743.jpg',\n//   description:\n//     'The daughter of a Korean mother and Jewish American father, and leader of the indie rock project Japanese Breakfast, describes creating her own identity after losing her mother to cancer.',\n//   amazon_buy_link: 'https://www.amazon.com/dp/0593379853?tag=NYTBSREV-20',\n//   apple_buy_link: 'https://goto.applebooks.apple/9781984896391?at=10lIEQ',\n// };\n\n// localStorageBooks.addBookToFavorites(book);\n\nrenderShoppingListPage();\n"],"names":["createCartPagination","books","cartList","totalBooks","booksPerPage","getBooksPerPage","renderShoppingList","renderPaginationButtons","getTotalPages","totalPages","prevButton","numbersButtonsList","pageNumber","shoppingList","cartEmptyMsg","paginationButtons","renderTitle","hmtlBookList","book","renderShoppingListPage","localStorageBooks","remove","e","bookId"],"mappings":"wFAEO,SAASA,EAAqBC,EAAOC,EAAU,CACpD,MAAMC,EAAaF,EAAM,OACnBG,EAAeC,IACrB,QAAQ,IAAIF,CAAU,EACtB,QAAQ,IAAIC,CAAY,EACxBE,EAAmBL,CAAK,EACxBM,EAAwBJ,EAAYD,CAAQ,EAC5C,QAAQ,IAAIM,EAAcL,EAAYC,CAAY,CAAC,CACrD,CAEA,SAASC,GAAkB,CAEzB,OADoB,OAAO,WACT,IACT,EAEA,CAEX,CAEA,SAASG,EAAcL,EAAYC,EAAc,CAC/C,OAAO,KAAK,KAAKD,EAAaC,CAAY,CAC5C,CAEA,SAASG,EAAwBE,EAAYP,EAAU,CACrD,GAAIO,EAAa,EAAG,CAClBP,EAAS,mBACP,YACA;AAAA;AAAA;AAAA,wDAIN,EAEI,MAAMQ,EAAa,SAAS,cAAc,0BAA0B,EACpE,QAAQ,IAAIA,CAAU,EACtBA,EAAW,mBACT,WACA,8CACN,EAEI,MAAMC,EAAqB,SAAS,cAClC,6BACN,EAEI,QAAQ,IAAIA,CAAkB,EAC9B,QAAS,EAAI,EAAG,EAAIF,EAAY,IAAK,CACnC,QAAQ,IAAI,QAAQ,EAAI,CAAC,EAAE,EAC3B,MAAMG,EAAa,EAAI,EACvBD,EAAmB,mBACjB,YACA,eAAeC,CAAU,gBACjC,CACK,CACF,CACH,CCpDA,MAAMC,EAAe,SAAS,cAAc,YAAY,EAClDC,EAAe,SAAS,cAAc,aAAa,EACnDC,EAAoB,SAAS,cAAc,kBAAkB,EAEnEC,EAAY,QAAS,eAAe,EAE7B,SAASV,EAAmBL,EAAO,CAExCY,EAAa,UAAY,GACzB,MAAMI,EAAehB,EAClB,IAAIiB,GACI;AAAA;AAAA;AAAA,eAGEA,EAAK,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAQYA,EAAK,KAAK;AAAA,4CACRA,EAAK,SAAS;AAAA;AAAA,6BAE7BA,EAAK,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAQvBA,EAAK,WAAW;AAAA;AAAA;AAAA,0CAGYA,EAAK,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,wBAK7BA,EAAK,eAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBASpBA,EAAK,cAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAWtC,EACA,KAAK,EAAE,EACVL,EAAa,mBAAmB,YAAaI,CAAY,CAC3D,CAEA,SAASE,GAAyB,CAChC,MAAMlB,EAAQmB,EAAkB,cAChC,GAAInB,EAAM,SAAW,EACnBa,EAAa,UAAU,OAAO,WAAW,MACpC,CAIL,IAASO,EAAT,SAAgBC,EAAG,CACjB,MAAMC,EAASD,EAAE,OAAO,QAAQ,uBAAuB,EAAE,QAAQ,GACjEF,EAAkB,wBAAwBG,CAAM,EAChDV,EAAa,oBAAoB,QAASQ,CAAM,EAChDF,GACD,EAPDnB,EAAqBC,EAAOc,CAAiB,EAC7CF,EAAa,iBAAiB,QAASQ,CAAM,CAO9C,CACH,CAiBAF,EAAwB"}