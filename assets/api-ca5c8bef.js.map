{"version":3,"file":"api-ca5c8bef.js","sources":["../../src/js/localstorage.js","../../src/js/Services/api.js"],"sourcesContent":["const localStorageBooks = {\n  key: 'books',\n  books: [],\n\n  getAllBooks: function () {\n    if (localStorage.getItem(this.key) === null) {\n      return [];\n    } else {\n      return JSON.parse(localStorage.getItem(this.key));\n    }\n  },\n\n  isBookExsist: function (id) {\n    if (localStorage.getItem(this.key) === null) {\n      this.books = [];\n    } else {\n      this.books = JSON.parse(localStorage.getItem(this.key));\n    }\n    const bookIndex = this.books.findIndex(item => {\n      return item._id === id;\n    });\n    if (bookIndex !== -1) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  addBookToFavorites: function (book) {\n    if (localStorage.getItem(this.key) === null) {\n      this.books = [];\n    } else {\n      this.books = JSON.parse(localStorage.getItem(this.key));\n    }\n    if (this.isBookExsist(book._id)) {\n      console.log('Oops, this book already in shopping list');\n    } else {\n      this.books.push(book);\n      localStorage.setItem(this.key, JSON.stringify(this.books));\n    }\n  },\n\n  removeBookFromFavorites: function (id) {\n    if (localStorage.getItem(this.key) === null) {\n      this.books = [];\n    } else {\n      this.books = JSON.parse(localStorage.getItem(this.key));\n    }\n    const itemBookById = this.books.findIndex(item => {\n      return item._id === id;\n    });\n    this.books.splice(itemBookById, 1); \n    //   this.books.splice(this.books.indexOf(itemBookById), 1);\n    localStorage.setItem(this.key, JSON.stringify(this.books));\n  },\n};\n\nexport default localStorageBooks;\n","import axios from 'axios';\n\naxios.defaults.baseURL = `https://books-backend.p.goit.global/books`;\n\nconst backendAPI = {\n  getCategoryList: async function () {\n    try {\n      const response = await axios.get(`/category-list`);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  getBestSellers: async function () {\n    try {\n      const response = await axios.get(`/top-books`);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  getSelectedCategory: async function (category) {\n    try {\n      const response = await axios.get(`/category?category=${category}`);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  getBookDescription: async function (id) {\n    try {\n      const response = await axios.get(`/${id}`);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n};\n\nexport default backendAPI;\n"],"names":["localStorageBooks","id","item","book","itemBookById","axios","backendAPI","error","category"],"mappings":"+uBAAK,MAACA,EAAoB,CACxB,IAAK,QACL,MAAO,CAAE,EAET,YAAa,UAAY,CACvB,OAAI,aAAa,QAAQ,KAAK,GAAG,IAAM,KAC9B,GAEA,KAAK,MAAM,aAAa,QAAQ,KAAK,GAAG,CAAC,CAEnD,EAED,aAAc,SAAUC,EAAI,CAS1B,OARI,aAAa,QAAQ,KAAK,GAAG,IAAM,KACrC,KAAK,MAAQ,GAEb,KAAK,MAAQ,KAAK,MAAM,aAAa,QAAQ,KAAK,GAAG,CAAC,EAEtC,KAAK,MAAM,UAAUC,GAC9BA,EAAK,MAAQD,CACrB,IACiB,EAKnB,EAED,mBAAoB,SAAUE,EAAM,CAC9B,aAAa,QAAQ,KAAK,GAAG,IAAM,KACrC,KAAK,MAAQ,GAEb,KAAK,MAAQ,KAAK,MAAM,aAAa,QAAQ,KAAK,GAAG,CAAC,EAEpD,KAAK,aAAaA,EAAK,GAAG,EAC5B,QAAQ,IAAI,0CAA0C,GAEtD,KAAK,MAAM,KAAKA,CAAI,EACpB,aAAa,QAAQ,KAAK,IAAK,KAAK,UAAU,KAAK,KAAK,CAAC,EAE5D,EAED,wBAAyB,SAAUF,EAAI,CACjC,aAAa,QAAQ,KAAK,GAAG,IAAM,KACrC,KAAK,MAAQ,GAEb,KAAK,MAAQ,KAAK,MAAM,aAAa,QAAQ,KAAK,GAAG,CAAC,EAExD,MAAMG,EAAe,KAAK,MAAM,UAAUF,GACjCA,EAAK,MAAQD,CACrB,EACD,KAAK,MAAM,OAAOG,EAAc,CAAC,EAEjC,aAAa,QAAQ,KAAK,IAAK,KAAK,UAAU,KAAK,KAAK,CAAC,CAC1D,CACH,ECrDAC,EAAM,SAAS,QAAU,4CAEpB,MAACC,EAAa,CACjB,gBAAiB,gBAAkB,CACjC,GAAI,CAEF,OADiB,MAAMD,EAAM,IAAI,gBAAgB,GACjC,IACjB,OAAQE,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACF,EAED,eAAgB,gBAAkB,CAChC,GAAI,CAEF,OADiB,MAAMF,EAAM,IAAI,YAAY,GAC7B,IACjB,OAAQE,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACF,EAED,oBAAqB,eAAgBC,EAAU,CAC7C,GAAI,CAEF,OADiB,MAAMH,EAAM,IAAI,sBAAsBG,CAAQ,EAAE,GACjD,IACjB,OAAQD,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACF,EAED,mBAAoB,eAAgBN,EAAI,CACtC,GAAI,CAEF,OADiB,MAAMI,EAAM,IAAI,IAAIJ,CAAE,EAAE,GACzB,IACjB,OAAQM,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACF,CACH"}