{"version":3,"file":"api-a75f33f1.js","sources":["../../src/js/Services/helpers.js","../../src/js/localstorage.js","../../src/js/header.js","../../src/js/support.js","../../src/js/Services/api.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function renderTitle(containerClass, title) {\n  const container = document.querySelector(containerClass);\n  const words = title.split(' ');\n  const lastWord = words[words.length - 1];\n  words.pop();\n  title = words.join(' ');\n  container.insertAdjacentHTML(\n    'afterbegin',\n    `<h1 class=\"page-title\">${title} <span class=\"page-title-highlight\">${lastWord}</span></h1>`\n  );\n}\n\nexport function bookTemplate({ title, author, book_image, _id }) {\n  return `<li class=\"book-category-item\" data-id=\"${_id}\">\n    <div class = \"img-cover\">\n      <img class=\"book-category-image\" src=\"${book_image}\" alt=\"Book cover\" width=\"335\"  /> \n      <p class=\"overlay-text\">quick view</p>\n      </div>\n        <div class=\"book-category-text\">\n      <h3 class = \"book-title\">\n      ${title}</h3>\n      <p class = \"author-name\"> ${author}</p>\n    </div>\n </li>`;\n}\n","const localStorageBooks = {\n  key: 'books',\n  books: [],\n\n  getAllBooks: function () {\n    if (localStorage.getItem(this.key) === null) {\n      return [];\n    } else {\n      return JSON.parse(localStorage.getItem(this.key));\n    }\n  },\n\n  isBookExsist: function (id) {\n    if (localStorage.getItem(this.key) === null) {\n      this.books = [];\n    } else {\n      this.books = JSON.parse(localStorage.getItem(this.key));\n    }\n    const bookIndex = this.books.findIndex(item => {\n      return item._id === id;\n    });\n    if (bookIndex !== -1) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  addBookToFavorites: function (book) {\n    if (localStorage.getItem(this.key) === null) {\n      this.books = [];\n    } else {\n      this.books = JSON.parse(localStorage.getItem(this.key));\n    }\n    if (this.isBookExsist(book._id)) {\n      console.log('Oops, this book already in shopping list');\n    } else {\n      this.books.push(book);\n      localStorage.setItem(this.key, JSON.stringify(this.books));\n    }\n  },\n\n  removeBookFromFavorites: function (id) {\n    if (localStorage.getItem(this.key) === null) {\n      this.books = [];\n    } else {\n      this.books = JSON.parse(localStorage.getItem(this.key));\n    }\n    const itemBookById = this.books.findIndex(item => {\n      return item._id === id;\n    });\n    this.books.splice(itemBookById, 1); \n    //   this.books.splice(this.books.indexOf(itemBookById), 1);\n    localStorage.setItem(this.key, JSON.stringify(this.books));\n  },\n};\n\nexport default localStorageBooks;\n","// функція зміни стану активності посилання\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  const home = document.querySelector('.header-menu-home');\n  const shoppingList = document.querySelector('.header-menu-shopping');\n  function applyBackground() {\n    const currentPath = window.location.pathname;\n    home.classList.toggle('btn-active', currentPath === '/index.html' || currentPath === '/');\n    shoppingList.classList.toggle('btn-active', currentPath.includes('card.html'));\n  }\n  applyBackground();\n  home.addEventListener('click', function (event) {\n    event.preventDefault();\n    window.location.href = './index.html';\n  });\n  shoppingList.addEventListener('click', function (event) {\n    event.preventDefault();\n    window.location.href = './card.html';\n  });\n});\n\n\n\nconst themeSwitch = document.querySelector('.theme-switch-input');\nconst body = document.querySelector('body');\n\n// Функція для зміни теми та збереження її в локальному сховищі\nfunction toggleTheme() {\n    if (themeSwitch.checked === false) {\n        body.classList.add('light-theme');\n        body.classList.remove('dark-theme');\n        localStorage.setItem('theme', 'light');\n    } else {\n        body.classList.remove('light-theme');\n        body.classList.add('dark-theme');\n        localStorage.setItem('theme', 'dark');\n    }\n}\n\n// Перевірка, яка тема встановлена за замовчуванням\nconst savedTheme = localStorage.getItem('theme');\nif (savedTheme === 'dark') {\n    themeSwitch.checked = true;\n    toggleTheme();\n} else {\n    themeSwitch.checked = false;\n}\n\nthemeSwitch.addEventListener('change', toggleTheme);\n\n\n// відкриття та закриття мобільного меню\n\nconst menuOpenButton = document.querySelector('.menu-open-btn');\nconst menuCloseButton = document.querySelector('.menu-close-btn');\nconst mobMenu = document.querySelector('.mob-menu');\n\n// Відкриття меню при кліку на кнопку відкриття\nmenuOpenButton.addEventListener('click', () => {\n  document.body.style.overflow = 'hidden';\n  mobMenu.classList.add('is-open');\n  \n  menuOpenButton.classList.remove('is-open');\n  menuOpenButton.classList.add('hidden');\n  menuCloseButton.classList.remove('hidden');\n});\n\n// Закриття меню при кліку на кнопку закриття\nmenuCloseButton.addEventListener('click', () => {\n  document.body.style.overflow = 'auto';\n  mobMenu.classList.remove('is-open');\n  menuOpenButton.classList.remove('hidden');\n  menuCloseButton.classList.add('hidden');\n});\n\n//функція яка робить активним посилання в мобільному меню\n\n\n// document.addEventListener('DOMContentLoaded', function () {\n  \n//   const home = document.querySelector('.mob-menu-home');\n//   const shoppingList = document.querySelector('.mob-menu-calor');\n//   const mobBasketIcon = document.querySelector('.mob-basket-icon')\n//   function applyBackground() {\n//     const currentPath = window.location.pathname;\n//     home.classList.toggle('btn-active-home', currentPath === '/index.html' || currentPath === '/');\n//     shoppingList.classList.toggle('btn-active-shopping', currentPath.includes('card.html'));\n//     mobBasketIcon.classList.toggle('mob-basket-isactive', currentPath.includes('card.html'));\n//   }\n//   applyBackground();\n//   home.addEventListener('click', function (event) {\n//     event.preventDefault();\n//     window.location.href = './index.html';\n//   });\n//   shoppingList.addEventListener('click', function (event) {\n//     event.preventDefault();\n//     window.location.href = './card.html';\n//   });\n// });\n\n// document.addEventListener('DOMContentLoaded', function() {\n//   const home = document.querySelector('.header-menu-home');\n//   const shoppingList = document.querySelector('.header-menu-shopping');\n//   function applyBackground() {\n//     const currentPath = window.location.pathname;\n//     home.classList.toggle('btn-active', currentPath === '/index.html' || currentPath === '/');\n//     shoppingList.classList.toggle('btn-active', currentPath.includes('card.html'));\n//   }\n//   applyBackground();\n//   home.addEventListener('click', function (event) {\n//     event.preventDefault();\n//     window.location.href = './index.html';\n//   });\n//   shoppingList.addEventListener('click', function (event) {\n//     event.preventDefault();\n//     window.location.href = './card.html';\n//   });\n// });\n\n\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const mobeHomeMenu = document.querySelector('.mob-menu-home');\n  const mobShoppingList = document.querySelector('.mob-menu-calor');\n  const headerHomeMenu = document.querySelector('.header-menu-home');\n  const headerShoppingList = document.querySelector('.header-menu-shopping');\n  const basketIcon = document.querySelector('.basket-icon');\n  const mobBasketIcon = document.querySelector('.mob-basket-icon');\n\n  const currentLinkShoppingList = window.location.pathname.includes('/card.html');\n\n  const linkMob = document.querySelector('.mob-list > li:last-child > a');\n  const linkHeader = document.querySelector('.header-menu > li:last-child > a');\n\n  console.log(currentLinkShoppingList);\n  \n  let mobLinkHref = linkMob.getAttribute('href').includes('/card.html');\n  let headerLinkHref = linkHeader.getAttribute('href').includes('/card.html');\n\n  console.log(mobLinkHref);\n  console.log(headerLinkHref);\n\n  if (mobLinkHref === currentLinkShoppingList || headerLinkHref === currentLinkShoppingList) {\n    mobShoppingList.classList.add('open-list');\n    headerShoppingList.classList.add('open-list');\n    basketIcon.classList.add('basket-icon-catch')\n    mobBasketIcon.classList.add('mob-basket-isactive')\n  } else {\n    mobeHomeMenu.classList.add('open-home');\n    \n    headerHomeMenu.classList.add('open-home');\n    console.log(false);\n  } \n  });\n\n  //comented\n  \n// document.addEventListener('DOMContentLoaded', function() {\n//   const home = document.querySelector('.mob-menu-home');\n//   const shoppingList = document.querySelector('.mob-menu-calor');\n//   const mobBasketIcon = document.querySelector('.mob-basket-icon');\n//   function applyBackground() {\n//     const currentPath = window.location.pathname;\n//     home.classList.toggle('btn-active-home', currentPath === '/index.html' || currentPath === '/');\n//     shoppingList.classList.toggle('btn-active-shopping', currentPath.includes('card.html'));\n//     mobBasketIcon.classList.toggle('mob-basket-isactive', currentPath.includes('card.html'));\n//   }\n//   applyBackground();\n//   home.addEventListener('click', function (event) {\n//     event.preventDefault();\n//     window.location.href = './index.html';\n//   });\n//   shoppingList.addEventListener('click', function (event) {\n//     event.preventDefault();\n//     window.location.href = './card.html';\n//   });\n\n        \n    \n\n// comented\n\n// document.addEventListener('DOMContentLoaded', function() {\n//   const home = document.querySelector('.header-menu-home');\n//   const shoppingList = document.querySelector('.header-menu-shopping');\n//   const headerIcon = document.querySelector('.basket-icon')\n//   function applyBackground() {\n//     const currentPath = window.location.pathname;\n//     home.classList.toggle('btn-active', currentPath.includes('index.html'));\n//     shoppingList.classList.toggle('btn-active', currentPath.includes('card.html'));\n//     headerIcon.classList.toggle('basket-icon-catch', currentPath.includes('card.html'));\n  \n//   }\n//   applyBackground();\n//   home.addEventListener('click', function (event) {\n//     event.preventDefault();\n//     window.location.href = './index.html';\n//   });\n//   shoppingList.addEventListener('click', function (event) {\n//     event.preventDefault();\n//     window.location.href = './card.html';\n//   });\n// });\n\n","// const sliderLine = document.querySelector('.slider-line');\n// const buttonScroll = document.querySelector('.slider-button-scroll');\n// const buttonArrow = document.querySelector('.slider-button-arrow');\n\n// let offset = 0;\n\n// buttonScroll.addEventListener('click', async () => {\n//     offset += 150;\n//     if (offset > 170) {\n//         offset = 0;\n//     }\n//     sliderLine.style.bottom = offset + 'px'\n        \n//     if (offset === 150) {\n//         buttonArrow.setAttribute('href', './img/symbol-defs.svg#icon-Vector-up1-1');\n//         } else {\n//         buttonArrow.setAttribute('href', './img/symbol-defs.svg#icon-Vector-down1-1');\n//         };\n// });\n\nconst sliderLine = document.querySelector('.slider-line'); \nconst buttonScrollDown = document.querySelector('.slider-button-scrolldown');\nconst buttonScrollUp = document.querySelector('.slider-button-scrollup');\n\nlet offset = 0;\n\nbuttonScrollDown.addEventListener('click', async () => { \n    offset += 150;\n    if (offset > 170) {\n        offset = 0;\n    }\n    sliderLine.style.bottom = offset + 'px'\n        \n    if (offset === 150) {\n        buttonScrollDown.classList.remove('scrolldown-open')\n        buttonScrollDown.classList.add('scrolldown-hidden');\n        buttonScrollUp.classList.remove('scrolldown-hidden');\n        buttonScrollUp.classList.add('scrolldown-open');\n    }\n});\n\nbuttonScrollUp.addEventListener('click', async () => { \n    offset += 150;\n    if (offset > 170) {\n        offset = 0;\n    }\n    sliderLine.style.bottom = offset + 'px'\n        \n    if (offset === 0) {\n        buttonScrollUp.classList.remove('scrolldown-open')\n        buttonScrollUp.classList.add('scrolldown-hidden');\n        buttonScrollDown.classList.remove('scrolldown-hidden');\n        buttonScrollDown.classList.add('scrolldown-open');\n    }\n});","import axios from 'axios';\n\naxios.defaults.baseURL = `https://books-backend.p.goit.global/books`;\n\nconst backendAPI = {\n  getCategoryList: async function () {\n    try {\n      const response = await axios.get(`/category-list`);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  getBestSellers: async function () {\n    try {\n      const response = await axios.get(`/top-books`);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  getSelectedCategory: async function (category) {\n    try {\n      const response = await axios.get(`/category?category=${category}`);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  getBookDescription: async function (id) {\n    try {\n      const response = await axios.get(`/${id}`);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n};\n\nexport default backendAPI;\n"],"names":["renderTitle","containerClass","title","container","words","lastWord","bookTemplate","author","book_image","_id","localStorageBooks","id","item","book","itemBookById","home","shoppingList","applyBackground","currentPath","event","themeSwitch","body","toggleTheme","savedTheme","menuOpenButton","menuCloseButton","mobMenu","mobeHomeMenu","mobShoppingList","headerHomeMenu","headerShoppingList","basketIcon","mobBasketIcon","currentLinkShoppingList","linkMob","linkHeader","mobLinkHref","headerLinkHref","sliderLine","buttonScrollDown","buttonScrollUp","offset","axios","backendAPI","error","category"],"mappings":"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"}